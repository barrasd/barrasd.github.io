<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Triangle</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f9;
        }
        svg {
            user-select: none;
            cursor: pointer;
        }
        circle {
            fill: #4caf50;
        }
        text {
            font-size: 14px;
            font-weight: bold;
            fill: white;
            text-anchor: middle;
            alignment-baseline: middle;
        }
    </style>
</head>
<body>
    <svg width="500" height="500">
        <!-- Triangle lines -->
        <line id="line1" x1="250" y1="100" x2="150" y2="400" stroke="#000" stroke-width="2" />
        <line id="line2" x1="250" y1="100" x2="350" y2="400" stroke="#000" stroke-width="2" />
        <line id="line3" x1="150" y1="400" x2="350" y2="400" stroke="#000" stroke-width="2" />

        <!-- Circles -->
        <circle id="qos" cx="250" cy="100" r="30" />
        <circle id="opex" cx="150" cy="400" r="30" />
        <circle id="automation" cx="350" cy="400" r="30" />

        <!-- Text inside circles -->
        <text id="qos-text" x="250" y="100">QoS</text>
        <text id="opex-text" x="150" y="400">Opex</text>
        <text id="automation-text" x="350" y="400">Automation</text>
    </svg>

    <script>
        const svg = document.querySelector("svg");
        const qos = document.getElementById("qos");
        const opex = document.getElementById("opex");
        const automation = document.getElementById("automation");

        const qosText = document.getElementById("qos-text");
        const opexText = document.getElementById("opex-text");
        const automationText = document.getElementById("automation-text");

        const line1 = document.getElementById("line1");
        const line2 = document.getElementById("line2");
        const line3 = document.getElementById("line3");

        let dragging = null;

        svg.addEventListener("mousedown", (e) => {
            if (e.target.tagName === "circle") {
                dragging = e.target;
            }
        });

        svg.addEventListener("mouseup", () => {
            dragging = null;
        });

        svg.addEventListener("mousemove", (e) => {
            if (!dragging) return;

            const svgRect = svg.getBoundingClientRect();
            const mouseX = e.clientX - svgRect.left;
            const mouseY = e.clientY - svgRect.top;

            if (dragging === opex) {
                const newX = Math.min(Math.max(mouseX, 50), 450); // Constrain horizontal movement
                const deltaX = newX - opex.cx.baseVal.value;

                opex.cx.baseVal.value = newX;
                opexText.setAttribute("x", newX);

                qos.cy.baseVal.value += deltaX; // Move QoS vertically
                qosText.setAttribute("y", qos.cy.baseVal.value);

                updateLines();
            }

            if (dragging === automation) {
                const newX = Math.min(Math.max(mouseX, 50), 450); // Constrain horizontal movement
                const deltaX = newX - automation.cx.baseVal.value;

                automation.cx.baseVal.value = newX;
                automationText.setAttribute("x", newX);

                opex.cx.baseVal.value -= deltaX; // Move Opex horizontally in the opposite direction
                opexText.setAttribute("x", opex.cx.baseVal.value);

                updateLines();
            }

            if (dragging === qos) {
                const newY = Math.min(Math.max(mouseY, 50), 450); // Constrain vertical movement

                qos.cy.baseVal.value = newY;
                qosText.setAttribute("y", newY);

                updateLines();
            }
        });

        function updateLines() {
            line1.setAttribute("x1", qos.cx.baseVal.value);
            line1.setAttribute("y1", qos.cy.baseVal.value);
            line1.setAttribute("x2", opex.cx.baseVal.value);
            line1.setAttribute("y2", opex.cy.baseVal.value);

            line2.setAttribute("x1", qos.cx.baseVal.value);
            line2.setAttribute("y1", qos.cy.baseVal.value);
            line2.setAttribute("x2", automation.cx.baseVal.value);
            line2.setAttribute("y2", automation.cy.baseVal.value);

            line3.setAttribute("x1", opex.cx.baseVal.value);
            line3.setAttribute("y1", opex.cy.baseVal.value);
            line3.setAttribute("x2", automation.cx.baseVal.value);
            line3.setAttribute("y2", automation.cy.baseVal.value);
        }
    </script>
</body>
</html>
